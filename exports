export HISTSIZE=32768
export HISTFILESIZE="$HISTSIZE"
export HISTCONTROL="ignoreboth,ignoredups"

export DEBFULLNAME="Ivan Pouzyrevsky"
export DEBEMAIL="sandello@yandex-team.ru"

export LC_ALL=en_US.UTF-8

export PDSH_RCMD_TYPE="ssh"
export PDSH_SSH_ARGS_APPEND="-q -A -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null -o PreferredAuthentications=publickey"

case $(uname -s) in
    Darwin*)
        export EDITOR="mvim -f --nomru -c 'au VimLeave * !open -a iTerm'"
        export EDITOR="subl -w"
        export LSCOLORS=gxfxbEaEBxxEhEhBaDaCaD
        ;;
    *)
        export EDITOR="vim"
        ;;
esac


[[ -z "$TMPDIR" ]] && export TMP_DIR=/var/tmp

function add_to_path() {
    [[ -d "$*" ]] && PATH="$*:$PATH"
}

function add_to_node_path() {
    [[ -d "$*" ]] && NODE_PATH="$*:$NODE_PATH"
}

add_to_path $HOME/bin
add_to_path $HOME/.bin
add_to_path $HOME/.bin_private
add_to_path $HOME/.cabal/bin
add_to_path $HOME/.rvm/bin
add_to_path $HOME/.fzf/bin
add_to_path $HOME/Cellar/bin
add_to_path $HOME/anaconda/bin
add_to_path /opt/local/bin
add_to_path /opt/local/sbin
add_to_path /usr/local/bin
add_to_path /usr/local/sbin
add_to_path $GOPATH/bin

add_to_node_path /usr/lib/node_modules
add_to_node_path /usr/local/lib/node_modules
add_to_node_path /usr/local/share/npm/lib/node_modules

# Deduplicate them.
PATH=`awk -F: '{for (i=1;i<=NF;i++) { if (!x[$i]++) printf("%s:",$i); }}' <<< $PATH`
NODE_PATH=`awk -F: '{for (i=1;i<=NF;i++) { if (!x[$i]++) printf("%s:",$i); }}' <<< $NODE_PATH`

export PATH
export NODE_PATH

